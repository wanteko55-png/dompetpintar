<!doctype html><html lang="id"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Login - Dompet Pintar</title><link rel="stylesheet" href="css/style.css"></head><body>
<div class="app"><div class="card" style="max-width:420px;margin:60px auto;padding:20px;">
  <h3>Login</h3>
  <form id="loginForm">
    <label>Username</label><input type="text" id="username" required>
    <label>Password</label><input type="password" id="password" required>
    <div style="margin-top:12px">
      <button class="btn" type="submit">Masuk</button>
      <label style="margin-left:8px"><input type="checkbox" id="remember"> Ingat saya</label>
    </div>
    <div id="loginMsg" style="margin-top:10px;color:#ef4444"></div>
  </form>
</div></div>
<script>
const GAS_URL = '<REPLACE_WITH_GAS_WEBAPP_URL>';
document.getElementById('loginForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value;
  const remember = document.getElementById('remember').checked;
  const res = await fetch(GAS_URL, {method:'POST',body:JSON.stringify({action:'login',username, password})});
  const j = await res.json();
  if(j.success){
    if(remember) localStorage.setItem('dp_session', JSON.stringify(j.session));
    location.href = '/';
  } else {
    document.getElementById('loginMsg').innerText = j.message || 'Login gagal';
  }
});
</script>
</body></html>
