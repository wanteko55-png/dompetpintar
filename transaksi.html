<!doctype html><html lang="id"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Transaksi - Dompet Pintar</title><link rel="stylesheet" href="css/style.css"></head><body>
<div class="app"><div class="card" style="max-width:900px;margin:24px auto"><h3>Transaksi</h3>
<div id="txList"></div></div></div>
<script>
const GAS_URL = '<REPLACE_WITH_GAS_WEBAPP_URL>';
async function load(){
  const s = localStorage.getItem('dp_session'); if(!s){ alert('Login dulu'); location.href='/login.html'; return; }
  const user = JSON.parse(s);
  const res = await fetch(GAS_URL, {method:'POST', body: JSON.stringify({action:'getTransactions', userId: user.userId})});
  const j = await res.json(); if(!j.success) {document.getElementById('txList').innerText='Error'; return;}
  const html = '<table><thead><tr><th>Tgl</th><th>Desc</th><th>Nominal</th></tr></thead><tbody>'+ j.data.map(t=>`<tr><td>${t.tanggal}</td><td>${t.deskripsi}</td><td>${t.jumlah}</td></tr>`).join('') +'</tbody></table>';
  document.getElementById('txList').innerHTML = html;
}
load();
</script>
</body></html>
